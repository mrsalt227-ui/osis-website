<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <title>OSIS Sekolah</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- HEADER -->
  <header id="main-header">
    <img src="foto1.png" alt="Foto Kiri" class="side-photo">
    <img src="logo-sekolah.png" alt="Logo Sekolah" class="logo">
    <h1>OSIS Sekolah</h1>
    <img src="foto2.png" alt="Foto Kanan" class="side-photo">
  </header>

  <nav class="container" style="text-align:center;margin-top:10px">
    <a onclick="showPage('home')">Home</a>
    <a onclick="showPage('anggota')">Anggota</a>
    <a onclick="showPage('pengumuman')">Pengumuman</a>
    <a onclick="showPage('admin')">Admin</a>
  </nav>

  <main class="container" style="position:relative;min-height:400px">
    <!-- HOME -->
    <section id="home" class="page active">
      <div class="card">
        <h2>Selamat Datang</h2>
        <p class="muted">Ini adalah website resmi OSIS sekolah. Silakan pilih menu di atas.</p>
      </div>
    </section>

    <!-- ANGGOTA -->
    <section id="anggota" class="page">
      <div class="card">
        <h2>Daftar Anggota</h2>
        <ul id="anggota-list" class="muted"></ul>
      </div>
    </section>

    <!-- PENGUMUMAN -->
    <section id="pengumuman" class="page">
      <div class="card">
        <h2>Pengumuman</h2>
        <div id="pengumuman-list" class="muted"></div>
      </div>
    </section>

    <!-- ADMIN -->
    <section id="admin" class="page">
      <div class="card">
        <h2>Login Admin</h2>
        <div id="login-box">
          <input type="password" id="admin-pass" placeholder="Masukkan password">
          <button onclick="loginAdmin()">Masuk</button>
        </div>
        <div id="admin-panel" style="display:none">
          <h3>Dashboard Admin <span class="admin-badge">Admin</span></h3>
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:12px">
            <div>
              <h4>Tambah Pengumuman</h4>
              <form id="form-ann">
                <input id="ann-title" placeholder="Judul" required>
                <textarea id="ann-content" placeholder="Isi pengumuman" rows="4" required></textarea>
                <button type="submit">Simpan</button>
              </form>
            </div>
            <div>
              <h4>Tambah Anggota</h4>
              <form id="form-member">
                <input id="mem-name" placeholder="Nama" required>
                <input id="mem-role" placeholder="Jabatan / Kelas">
                <button type="submit">Simpan</button>
              </form>
            </div>
          </div>
          <div style="margin-top:12px">
            <button class="link-btn" onclick="logoutAdmin()">Logout</button>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">&copy; <span id="yr"></span> OSIS Sekolah — Tema Hijau</div>
  </footer>

  <script>
    const ADMIN_PASSWORD = "admin123";
    let anggota = [];
    let pengumuman = [];

    // switch page
    function showPage(id){
      document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
      setTimeout(()=>document.getElementById(id).classList.add("active"),50);
    }

    // login
    function loginAdmin(){
      const pass = document.getElementById("admin-pass").value;
      if(pass === ADMIN_PASSWORD){
        document.getElementById("login-box").style.display="none";
        document.getElementById("admin-panel").style.display="block";
      } else {
        alert("Password salah!");
      }
    }
    function logoutAdmin(){
      document.getElementById("login-box").style.display="block";
      document.getElementById("admin-panel").style.display="none";
    }

    // tambah pengumuman
    document.getElementById("form-ann").addEventListener("submit", e=>{
      e.preventDefault();
      const title = document.getElementById("ann-title").value;
      const content = document.getElementById("ann-content").value;
      pengumuman.push({title,content});
      renderPengumuman();
      e.target.reset();
    });

    // tambah anggota
    document.getElementById("form-member").addEventListener("submit", e=>{
      e.preventDefault();
      const name = document.getElementById("mem-name").value;
      const role = document.getElementById("mem-role").value;
      anggota.push({name,role});
      renderAnggota();
      e.target.reset();
    });

    function renderPengumuman(){
      const list = document.getElementById("pengumuman-list");
      list.innerHTML = "";
      pengumuman.forEach(p=>{
        const div = document.createElement("div");
        div.className="card small";
        div.innerHTML = `<strong>${p.title}</strong><br>${p.content}`;
        list.appendChild(div);
      });
    }
    function renderAnggota(){
      const list = document.getElementById("anggota-list");
      list.innerHTML = "";
      anggota.forEach(m=>{
        const li = document.createElement("li");
        li.textContent = `${m.name} — ${m.role}`;
        list.appendChild(li);
      });
    }

    document.getElementById("yr").textContent = new Date().getFullYear();

    // shrink header saat scroll
    const header = document.getElementById("main-header");
    window.addEventListener("scroll", () => {
      if (window.scrollY > 50) {
        header.classList.add("shrink");
      } else {
        header.classList.remove("shrink");
      }
    });
  </script>
</body>
</html>
